<div class="expense-form" [formGroup]="expenseForm">



  <!-- Expense Type Selection -->
  <div class="form-group">
    <label for="type">Expense Type *</label>
    <select id="type" formControlName="type" class="form-control">
      <option value="">Select expense type</option>
      <option *ngFor="let type of expenseTypes" [value]="type">
        {{ getExpenseTypeName(type) }}
      </option>
    </select>
  </div>

  <!-- Dynamic Form Fields -->
  <div class="dynamic-fields" *ngIf="selectedType">
    <!-- Car Rental Fields -->
    <div *ngIf="isFieldVisible('carName')" class="form-group">
      <label for="carName">{{ getFieldLabel('carName') }} *</label>
      <input type="text" id="carName" formControlName="carName" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('pickUpDateTime')" class="form-group">
      <label for="pickUpDateTime">{{ getFieldLabel('pickUpDateTime') }} *</label>
      <input type="datetime-local" id="pickUpDateTime" formControlName="pickUpDateTime" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('dropOffDateTime')" class="form-group">
      <label for="dropOffDateTime">{{ getFieldLabel('dropOffDateTime') }} *</label>
      <input type="datetime-local" id="dropOffDateTime" formControlName="dropOffDateTime" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('pickUpLocation')" class="form-group">
      <label for="pickUpLocation">{{ getFieldLabel('pickUpLocation') }} *</label>
      <input type="text" id="pickUpLocation" formControlName="pickUpLocation" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('dropOffLocation')" class="form-group">
      <label for="dropOffLocation">{{ getFieldLabel('dropOffLocation') }} *</label>
      <input type="text" id="dropOffLocation" formControlName="dropOffLocation" class="form-control">
    </div>

    <!-- Hotel Fields -->
    <div *ngIf="isFieldVisible('hotelName')" class="form-group">
      <label for="hotelName">{{ getFieldLabel('hotelName') }} *</label>
      <input type="text" id="hotelName" formControlName="hotelName" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('hotelLocation')" class="form-group">
      <label for="hotelLocation">{{ getFieldLabel('hotelLocation') }} *</label>
      <input type="text" id="hotelLocation" formControlName="hotelLocation" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('checkInDate')" class="form-group">
      <label for="checkInDate">{{ getFieldLabel('checkInDate') }} *</label>
      <input type="datetime-local" id="checkInDate" formControlName="checkInDate" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('checkoutDate')" class="form-group">
      <label for="checkoutDate">{{ getFieldLabel('checkoutDate') }} *</label>
      <input type="datetime-local" id="checkoutDate" formControlName="checkoutDate" class="form-control">
    </div>

    <!-- Flight Fields -->
    <div *ngIf="isFieldVisible('airline')" class="form-group">
      <label for="airline">{{ getFieldLabel('airline') }} *</label>
      <input type="text" id="airline" formControlName="airline" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('from')" class="form-group">
      <label for="from">{{ getFieldLabel('from') }} *</label>
      <input type="text" id="from" formControlName="from" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('to')" class="form-group">
      <label for="to">{{ getFieldLabel('to') }} *</label>
      <input type="text" id="to" formControlName="to" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('departureDateTime')" class="form-group">
      <label for="departureDateTime">{{ getFieldLabel('departureDateTime') }} *</label>
      <input type="datetime-local" id="departureDateTime" formControlName="departureDateTime" class="form-control">
    </div>

    <div *ngIf="isFieldVisible('arrivalDateTime')" class="form-group">
      <label for="arrivalDateTime">{{ getFieldLabel('arrivalDateTime') }} *</label>
      <input type="datetime-local" id="arrivalDateTime" formControlName="arrivalDateTime" class="form-control">
    </div>

    <!-- Taxi Fields -->
    <div *ngIf="isFieldVisible('dateTime')" class="form-group">
      <label for="dateTime">{{ getFieldLabel('dateTime') }} *</label>
      <input type="datetime-local" id="dateTime" formControlName="dateTime" class="form-control">
    </div>

    <!-- Total Price Field -->
    <div class="form-group">
      <label for="totalPrice">{{ getFieldLabel('totalPrice') }} *</label>
      <input type="number" id="totalPrice" formControlName="totalPrice" class="form-control" step="0.01" min="0.01">
    </div>
  </div>

  <!-- Form Actions -->
  <div class="form-actions">
    <button type="button" class="btn-secondary" (click)="onCancel()">Cancel</button>
    <button type="submit" class="btn-primary" (click)="onSubmit()" [disabled]="!expenseForm.valid || isLoading">
      <span *ngIf="!isLoading">{{ isEditMode ? 'Save Changes' : 'Create Expense' }}</span>
      <span *ngIf="isLoading">Loading...</span>
    </button>
  </div>
</div> 